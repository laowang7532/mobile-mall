<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link rel="stylesheet" type="text/css" href="css/cart.css" />
	</head>
	<body>
		<!-- 页头 -->
		<div class="top">
			<div class="close">
				<a href="../index/index.html">
					<img src="img/sell_list_06.png">
				</a>

			</div>
			<div class="title">购物车</div>
			<div class="list">
				<img src="./img/sell_list_03.png" alt="">
			</div>
		</div>

		<!-- 购物车 -->
		<div class="cart">
			<div class="item">
				<label>
					<div class="point"><input type="checkbox" id="sell1" value="" /></div>
					<div class="img">
						<img src="img/addcart-2_20.png">
					</div>
				</label>

				<div class="txt">
					<a href="../sell/sell_detail/sell_detail.html">
						<div class="title" style="color: black;">
							水星家纺提花套件欧式简约提花四件套侧耳倾听1.5/1.8米床上用品
						</div>
					</a>
					<div class="des">
						1.8M床：适用2.2Mx2.4M被芯
					</div>
					<div class="price sell1">
						<div class="num">￥<span>61.9</span></div>
						<div class="count">
							<div class="cut">—</div>
							<div class="sell_num">1</div>
							<div class="add">+</div>
						</div>
					</div>

				</div>
			</div>

			<div class="item">
				<label>
					<div class="point"><input type="checkbox" id="sell2" value="" /></div>
					<div class="img">
						<img src="img/addcart-2_20.png">
					</div>
				</label>

				<div class="txt">
					<a href="../sell/sell_detail/sell_detail.html">
						<div class="title" style="color: black;">
							水星家纺提花套件欧式简约提花四件套侧耳倾听1.5/1.8米床上用品
						</div>
					</a>
					<div class="des">
						1.8M床：适用2.2Mx2.4M被芯
					</div>
					<div class="price  sell2">
						<div class="num">￥<span>61.9</span></div>
						<div class="count">
							<div class="cut">—</div>
							<div class="sell_num">1</div>
							<div class="add">+</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- 大家都在买 -->
		<div class="every">
			<div class="title">
				大家都在买
			</div>
			<a href="../sell/sell_list/sell_list.html">
				<div class="list">
					<div class="img">
						<img src="img/index-1_04.jpg">
					</div>
					<div class="text">
						<div class="des" style="color: #000000;">
							高端GNF不锈钢脚踏垃圾桶家用40L大容量30L厨房25L客厅8L有盖
						</div>
						<div class="point">
							<img src="img/index-1_38.png">
							<span class="cn">积分抵扣:</span>
							<span class="num">27.9</span>
							<span class="hand">到手价</span>
							<span class="price">￥61.9</span>
						</div>
						<div class="have">
							<img src="img/index-1_41.png">
							<span class="cn">赚￥</span>
							<span class="num">27.9</span>
							<span class="pro">佣金比例:15.00%</span>
						</div>
					</div>
				</div>
			</a>

			<div class="list">
				<div class="img">
					<img src="img/index-1_04.jpg">
				</div>
				<div class="text">
					<div class="des">
						高端GNF不锈钢脚踏垃圾桶家用40L大容量30L厨房25L客厅8L有盖
					</div>
					<div class="point">
						<img src="img/index-1_38.png">
						<span class="cn">积分抵扣:</span>
						<span class="num">27.9</span>
						<span class="hand">到手价</span>
						<span class="price">￥61.9</span>
					</div>
					<div class="have">
						<img src="img/index-1_41.png">
						<span class="cn">赚￥</span>
						<span class="num">27.9</span>
						<span class="pro">佣金比例:15.00%</span>
					</div>
				</div>
			</div>
			<div class="list">
				<div class="img">
					<img src="img/index-1_04.jpg">
				</div>
				<div class="text">
					<div class="des">
						高端GNF不锈钢脚踏垃圾桶家用40L大容量30L厨房25L客厅8L有盖
					</div>
					<div class="point">
						<img src="img/index-1_38.png">
						<span class="cn">积分抵扣:</span>
						<span class="num">27.9</span>
						<span class="hand">到手价</span>
						<span class="price">￥61.9</span>
					</div>
					<div class="have">
						<img src="img/index-1_41.png">
						<span class="cn">赚￥</span>
						<span class="num">27.9</span>
						<span class="pro">佣金比例:15.00%</span>
					</div>
				</div>
			</div>
		</div>

		<div class="footer">
			<div class="all">
				<div class="poi"><input type="checkbox" name="" id="chkAll" value="" /></div>
				<div class="cn">全部</div>
			</div>
			<div class="allcount">
				<div class="des">
					合计：￥<span class="num">0</span>
				</div>
				<a href="../order/order_confirm/order_confirm.html">
					<div class="buy">下单</div>
				</a>
			</div>
		</div>

		<script src="js/jquery-3.4.1.min.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			var sum1;
			var sum2;
			//封装计算函数
			function count() {
				var isChecked = $('#sell1').prop('checked');
				if (isChecked) {
					sum1 = parseFloat($('.sell1 .sell_num').text());
				} else {
					sum1 = 0;
				}
				
				var isChecked2 = $('#sell2').prop('checked');
				if (isChecked2) {
					sum2 = parseFloat($('.sell2 .sell_num').text());
				} else {
					sum2 = 0;
				}
				var add = (sum1 * 61.9) + (sum2 * 61.9);
				$('.footer .num').text(add);
			}
			$('.add').click(function() {
				var num = parseFloat($(this).siblings('.sell_num').text());
				num = num + 1;
				var price = num * 61.9;

				$(this).parent().siblings('.num').children('span').text(price)
				$(this).siblings('.sell_num').text(num);
				//调用计算函数
				count();
			});


			$('.cut').click(function() {
				var num = parseFloat($(this).siblings('.sell_num').text());
				num = num - 1;
				if (num < 2) {
					num = 1;
				}
				var price = num * 61.9;

				$(this).parent().siblings('.num').children('span').text(price)
				$(this).siblings('.sell_num').text(num);
				//调用计算函数
				count();
			});
			
			
			//全选  --正方向  点击全选》选中所有/取消所有
			$('#chkAll').click(function() {
				//获取自身的checked状态
				var isCheckAll = $(this).prop('checked');
				// console.log(isCheckAll)
				if (isCheckAll) {
					$('.cart input').prop('checked', true);
					var num = parseFloat($('.cart .num span').text());
					count();
					
				} else {
					$('.cart input').prop('checked', false);
					count();
				}
			
			})
			
			
			$('#sell1').click(function () {
				var isCheck = $(this).prop('checked');
				count();
			});
			
			
			$('#sell2').click(function () {
				var isCheck = $(this).prop('checked');
				count();
			});


			//选满全选也选中
			$('input[name=sell]').click(function() {
				var all = $('input[name=sell]').length;
				var checked = $('input[name=sell]:checked').length;
				//判断
				if (checked == all) {
					$('#chkAll').prop('checked', true);
				} else {
					$('#chkAll').prop('checked', false);
				}
			});
		</script>
	</body>
</html>
